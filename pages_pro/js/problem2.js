function Genre(e){return{genreName:e,musicItemList:[]}}function MusicItem(e,n,t,r){return{singer:e,title:n,genre:t,embedCode:r}}function searchGenreList(e,n){var t;return n.forEach(function(n){if(n.genreName==e)return t=n,!0}),t}function searchMusicItem(e,n){var t;return n.musicItemList.forEach(function(n){if(n.title==e)return t=n,!0}),t}function addMusicItem(e,n){n.forEach(function(n){e.genre==n.genreName&&n.musicItemList.push(e)})}function rebuildSongList(e){var n=searchGenreList(e,genreLists);if(void 0==n)return alert("Invalid Genre Type!"),!1;$("#songList").find("option").remove().end();var t=0;n.musicItemList.forEach(function(e){var n='<option value="'+e.title+'">'+e.title+"</option>";$("#songList").append(n),t++}),$("#songList").val($("#songList option:first").val()),$("#songList").attr("size",t),rebuildYoutubeFrame()}function getMusicItem(e,n){return searchMusicItem(n,searchGenreList(e,genreLists))}function rebuildYoutubeFrame(){var e=$("#songList option:selected").val(),n=getMusicItem($("#songLang option:selected").val(),e);$("#musicNamePre").empty().append(n.title),$("#musicSingerPre").empty().append("～"+n.singer+"～"),$("#youtubeFrame").attr("src",srcFormat+n.embedCode+autoplayVar)}function initItems(){engGenre=new Genre("eng"),jpGenre=new Genre("jp"),zhGenre=new Genre("zh-cn"),genreLists.push(engGenre),genreLists.push(jpGenre),genreLists.push(zhGenre),eng1=MusicItem("Stevie Wonder ft. Ariana Grande","Faith",engGenre.genreName,"opGJR_dBEvY"),eng2=MusicItem("Madonna","4 Minutes",engGenre.genreName,"bHHUhcV2eVY"),eng3=MusicItem("Flo Rida","Low",engGenre.genreName,"lcwrXMmIHW0"),eng4=MusicItem("Joanna Wang","Can't Take My Eyes off You",engGenre.genreName,"KI38zamK-Zs"),jp1=MusicItem("whiteeeen","キセキ～未来へ～",jpGenre.genreName,"-vgA0qDv6EA"),jp2=MusicItem("平井堅","大きな古時計",jpGenre.genreName,"Y0vSH2VW-tk"),jp3=MusicItem("Utada Hikaru","Merry Christmas Mr.Lawrence",jpGenre.genreName,"p_GZ3pZabmI"),zh1=MusicItem("陳綺貞","魚",zhGenre.genreName,"vDmPn3bLRRs"),zh2=MusicItem("周杰倫 ft.費玉清","千里之外",zhGenre.genreName,"ocDo3ySyHSI"),addMusicItem(eng1,genreLists),addMusicItem(eng2,genreLists),addMusicItem(eng3,genreLists),addMusicItem(eng4,genreLists),addMusicItem(jp1,genreLists),addMusicItem(jp2,genreLists),addMusicItem(jp3,genreLists),addMusicItem(zh1,genreLists),addMusicItem(zh2,genreLists)}var srcFormat="https://www.youtube.com/embed/",autoplayVar="?autoplay=1",genreLists=[];$(function(){initItems(),$("#songLang").change(function(){rebuildSongList($("#songLang option:selected").val())}),$("#songList").change(function(){rebuildYoutubeFrame()}),$("#youtubeFrame")[0].contentWindow.postMessage('{"event":"command","func":playVideo,"args":""}',"*")});